from Wappalyzer import Wappalyzer, WebPage
import json
                          
def fingerprint():
    with open('../opt/前端传url.txt','r') as file:   #借助Wappalyzer
        url = file.readline()
    # print(url)
    wappalyzer = Wappalyzer.latest()
    webpage = WebPage.new_from_url(url)
    res = wappalyzer.analyze_with_versions_and_categories(webpage)
    return res

def fing():
    fing = fingerprint()
    with open('../opt/指纹结果.json','w')as fil:
        json.dump(fing,fil)
        return True

# fing()