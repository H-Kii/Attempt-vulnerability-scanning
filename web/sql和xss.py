import sys
sys.path.append('/opt/lampp/htdocs/Scan/')    #添加搜索路径

from etc.SQL import att
from etc.xss扫描 import writes


def start():
    with open('../opt/结果.txt','w') as f:     #清空之前结果，之后让前端判断是否有内容在输出
        f.write('')
    a = att()
    b = writes()
    print(a)
    print(b)
    if a and b :
        writ()



def writ():
    with open('../opt/xss.txt','r') as file:
        xss = file.read()
    with open('../opt/sql.txt','r') as fil:
        sql = fil.readlines()
    with open('../opt/结果.txt','w') as fi:
        fi.write('\n')
        fi.write('\n')
        fi.write('xss漏洞\n')
        fi.write(xss+'\n')
        fi.write('\n')
        fi.write('\n')
        fi.write('sql注入漏洞\n')
        for s in sql:
            fi.write(s)

start()