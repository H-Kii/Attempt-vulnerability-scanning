import sys
import json
sys.path.append('/opt/lampp/htdocs/Scan/')    #添加搜索路径

from etc.url指纹信息 import fing
from etc.url获取概况信息 import url_read_write

def start(): 
    with open('../opt/结果.txt','w') as fi:     #清空之前结果，之后让前端判断是否有内容在输出
        fi.write('')
    a = fing()
    b = url_read_write()
    if  b and a:
        write()

def write():
    with open('../opt/指纹结果.json','r') as file:
        finger = json.load(file)
    with open('../opt/概况信息结果.json','r') as fil:
        gen = json.load(fil)
    with open('../opt/结果.txt','w') as f:
        f.write('概况信息采集结果:\n')
        f.write('\n')
        for g,e in gen.items():
            f.write(f'{g}:{e}\n')
        f.write('\n')
        f.write('\n')
        f.write('\n')
        f.write('指纹信息采集结果:\n')
        f.write('\n')
        for n,i in finger.items():
            f.write(f'{n}:{i}\n')

start()